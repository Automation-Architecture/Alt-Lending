...entire ARCHITECTURE_DIAGRAM.md content...